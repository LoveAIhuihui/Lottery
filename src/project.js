window.__require=function e(t,n,o){function r(i,s){if(!n[i]){if(!t[i]){var c=i.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+i+"'")}i=c}var u=n[i]={exports:{}};t[i][0].call(u.exports,function(e){return r(t[i][1][e]||e)},u,u.exports,e,t,n,o)}return n[i].exports}for(var a="function"==typeof __require&&__require,i=0;i<o.length;i++)r(o[i]);return r}({Actions:[function(e,t,n){"use strict";cc._RF.push(t,"6f139mW3pZAkrIbY8NCIU3z","Actions"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./GameManager"),r=cc._decorator,a=r.ccclass,i=r.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pic=null,t.parentNode=null,t.sprites=[],t.range=100,t.picsPool=[],t.PoolPointer=-1,t.PoolSize=30,t}return __extends(t,e),t.prototype.StartActions=function(){var e=this,t=[216,11,191,139,254,219,19,142,147,224],n=[19,148,102,285,85,51,215,94,283,200],r=[1,1,1,-1,-1,-1,-1,1,1,1],a=[1,-1,-1,1,-2,1,-1,1,-1],i=0;this.sprites=[],o.default._instance.Users.forEach(function(t){e.sprites.push(t.userIcon)}),this.schedule(function(){var e=cc.instantiate(this.pic);this.picsPool.push(e),this.DeletePic(),e.parent=this.parentNode,e.position=new cc.Vec3((t[i%10]+440)*r[i%10],(n[i%10]+360)*a[i%10]),e.getComponent(cc.Sprite).spriteFrame=this.sprites[i%this.sprites.length];var o=cc.spawn(cc.moveTo(4,new cc.Vec2(0,0)).easing(cc.easeIn(3)),cc.scaleTo(4,0,0).easing(cc.easeIn(3)));e.runAction(o),i++},.5,cc.macro.REPEAT_FOREVER)},t.prototype.DeletePic=function(){this.picsPool.length>this.PoolSize&&this.picsPool.shift().destroy()},__decorate([i(cc.Prefab)],t.prototype,"pic",void 0),__decorate([i(cc.Node)],t.prototype,"parentNode",void 0),t=__decorate([a],t)}(cc.Component);n.default=s,cc._RF.pop()},{"./GameManager":"GameManager"}],ButtonOnload:[function(e,t,n){"use strict";cc._RF.push(t,"eef107H9w1K07mBNcsHzUiy","ButtonOnload"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,r=o.ccclass,a=(o.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.musicPanel=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.musicPanel=cc.find("Canvas/SetLotterysPanel/MusicPanel");var e=new cc.Component.EventHandler;e.target=this.musicPanel,e.component="MusicPanel",e.handler="ChangeNameEvent",this.node.getComponent(cc.Button).clickEvents.push(e)},t=__decorate([r],t)}(cc.Component));n.default=a,cc._RF.pop()},{}],CombinePics:[function(e,t,n){"use strict";cc._RF.push(t,"bb83cxt0EZA562bRFwAcGPI","CombinePics"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./GameManager"),r=cc._decorator,a=r.ccclass,i=r.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.frame_backGround=null,t.frame_Content=null,t.frame_array=[],t.transparent=null,t.finshedSprite=null,t.StarDust=null,t}return __extends(t,e),t.prototype.start=function(){},t.prototype.MakeTexture=function(){var e=document.createElement("canvas");e.width=1e3,e.height=1e3;var t=e.getContext("2d");t.rect(0,0,e.width,e.height),t.fillStyle="rgba(255, 255, 255, 0)",t.fill();for(var n=0,r=0;r<9;r++)for(var a=r%2==0?0:100;a<1e3;){var i=new Image;i=this.frame_array[n].getTexture().getHtmlElementObj(),t.save(),t.beginPath(),t.arc(50+a,50+100*r+50,50,0,2*Math.PI,!1),t.closePath(),t.clip(),t.drawImage(i,a,100*r+50,100,100),t.restore(),n=(n+1)%this.frame_array.length,a+=200}var s=this.finshedSprite.getComponent(cc.Sprite).spriteFrame.getTexture();s.initWithElement(e),this.finshedSprite.getComponent(cc.Sprite).spriteFrame.setTexture(s),o.default._instance.FinsihedSprite=this.finshedSprite.getComponent(cc.Sprite).spriteFrame},t.prototype.drawAndShareImage=function(){var e=document.createElement("canvas");e.width=700,e.height=700;var t=e.getContext("2d");t.rect(0,0,e.width,e.height),t.fillStyle="#fff",t.fill();var n=new Image;n.src="./2.png",n.crossOrigin="Anonymous",n.onload=function(){t.drawImage(n,0,0,700,700),t.font="60px Courier New",t.fillText("\u6211\u662f\u6587\u5b57",350,450);var o=new Image;o.src="./1.png",o.crossOrigin="Anonymous",o.onload=function(){t.drawImage(o,175,175,225,225);var n=e.toDataURL("image/png");document.getElementById("avatar").setAttribute("src",n)}}},__decorate([i(cc.Node)],t.prototype,"frame_backGround",void 0),__decorate([i(cc.Node)],t.prototype,"frame_Content",void 0),__decorate([i(cc.SpriteFrame)],t.prototype,"frame_array",void 0),__decorate([i(cc.SpriteFrame)],t.prototype,"transparent",void 0),__decorate([i(cc.Node)],t.prototype,"finshedSprite",void 0),__decorate([i(cc.Node)],t.prototype,"StarDust",void 0),t=__decorate([a],t)}(cc.Component);n.default=s,cc._RF.pop()},{"./GameManager":"GameManager"}],EndPanel:[function(e,t,n){"use strict";cc._RF.push(t,"d29bd2FmRFNzbobbqVr7pHv","EndPanel"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./GameManager"),r=cc._decorator,a=r.ccclass,i=r.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ParentContent=null,t.UserIcon=null,t.NoPrizeLabel=null,t.HavePrizeLabel=null,t.NowPrizeLabel=null,t}return __extends(t,e),t.prototype.onEnable=function(){this.LoadPrizeUsers(),this.LoadPrizeInfom()},t.prototype.LoadPrizeUsers=function(){this.ParentContent.destroyAllChildren();for(var e=0;e<o.default._instance.RewardUsers.length;e++)for(var t=0;t<o.default._instance.Users.length;t++)if(o.default._instance.Users[t].userId==o.default._instance.RewardUsers[e]){var n=cc.instantiate(this.UserIcon);n.getChildByName("name").getComponent(cc.Label).string=o.default._instance.Users[t].userName,n.getChildByName("iconMask").getChildByName("usericon").getComponent(cc.Sprite).spriteFrame=o.default._instance.Users[t].userIcon,n.parent=this.ParentContent;break}o.default._instance.Users=[],o.default._instance.RewardUsers=[]},t.prototype.LoadPrizeInfom=function(){var e=o.default._instance.LotteryItems.shift();this.NowPrizeLabel.getComponent(cc.Label).string=e.split("-")[0],o.default._instance.LotteryItems.length>0?(this.NoPrizeLabel.active=!1,this.HavePrizeLabel.active=!0,this.HavePrizeLabel.getChildByName("Name").getChildByName("name").getChildByName("label").getComponent(cc.Label).string=o.default._instance.LotteryItems[0].split("-")[0],this.HavePrizeLabel.getChildByName("Num").getChildByName("name").getChildByName("label").getComponent(cc.Label).string=o.default._instance.LotteryItems[0].split("-")[1]):(this.HavePrizeLabel.active=!1,this.NoPrizeLabel.active=!0)},__decorate([i(cc.Node)],t.prototype,"ParentContent",void 0),__decorate([i(cc.Prefab)],t.prototype,"UserIcon",void 0),__decorate([i(cc.Node)],t.prototype,"NoPrizeLabel",void 0),__decorate([i(cc.Node)],t.prototype,"HavePrizeLabel",void 0),__decorate([i(cc.Node)],t.prototype,"NowPrizeLabel",void 0),t=__decorate([a],t)}(cc.Component);n.default=s,cc._RF.pop()},{"./GameManager":"GameManager"}],GameManager:[function(e,t,n){"use strict";cc._RF.push(t,"77b747C2PFOJb65Oy9nrdNE","GameManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./WebRequest"),r=cc._decorator,a=r.ccclass,i=r.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.LotteryItems=null,t.LottertId="-1",t.Users=null,t.RewardUsers=null,t.warningLabel=null,t.AudioPlayer=null,t.FinsihedSprite=null,t.isWarningLabelEnd=!0,t.isNewRound=!0,t.isFirstPrize=!0,t.isFiliterLotteryedUser=!0,t}var n;return __extends(t,e),n=t,t.prototype.onLoad=function(){var e=window.location.href.split("?");if(void 0==e[1])console.log("\u83b7\u53d6\u53c2\u6570\u5931\u8d25");else{this.LottertId=e[1].split("&")[0].split("=")[1];var t=e[1].split("&")[1].indexOf("="),r=e[1].split("&")[1].slice(t+1);o.default.userToken=r}n._instance=this.getComponent(n)},t.prototype.start=function(){this.LotteryItems=new Array,this.Users=new Array,this.RewardUsers=new Array},t.prototype.SetWarningLabel=function(e,t){1==n._instance.isWarningLabelEnd&&(n._instance.warningLabel.active=!0,n._instance.warningLabel.getChildByName("label").getComponent(cc.Label).string=e,n._instance.isWarningLabelEnd=!1,n._instance.warningLabel.getChildByName("label").getComponent(cc.Label).scheduleOnce(function(){this.string="",this.node.parent.active=!1,n._instance.isWarningLabelEnd=!0},t))},t._instance=null,t.UserIconArray=[],__decorate([i(cc.Node)],t.prototype,"warningLabel",void 0),__decorate([i(cc.Node)],t.prototype,"AudioPlayer",void 0),__decorate([i(cc.SpriteFrame)],t.prototype,"FinsihedSprite",void 0),t=n=__decorate([a],t)}(cc.Component);n.default=s,cc._RF.pop()},{"./WebRequest":"WebRequest"}],IconAnim:[function(e,t,n){"use strict";cc._RF.push(t,"98157kj4TNHf7umzPm76rox","IconAnim"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,r=o.ccclass,a=(o.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.start=function(){this.node.getComponent(cc.Animation).play("IconAnim")},t=__decorate([r],t)}(cc.Component));n.default=a,cc._RF.pop()},{}],LobbyPanel:[function(e,t,n){"use strict";cc._RF.push(t,"a4212H4jnBCsL0hzuCSum+O","LobbyPanel"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./GameManager"),r=e("./User"),a=e("./WebRequest"),i=cc._decorator,s=i.ccclass,c=i.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.PrizeNameLabel=null,t.PrizeNumLabel=null,t.QRCodePic=null,t}var n;return __extends(t,e),n=t,t.prototype.onLoad=function(){n.LotteryName=this.node.getChildByName("Control").getChildByName("Qrcode").getChildByName("name"),n.ListContent=this.node.getChildByName("Display").getChildByName("list").getChildByName("view").getChildByName("content"),n.UserNums_Label=this.node.getChildByName("Display").getChildByName("title").getChildByName("Num").getChildByName("label"),cc.loader.loadRes("UserItem",function(e,t){n.UserIcon=t}),cc.loader.loadRes("deafult",cc.SpriteFrame,function(e,t){n.deafultIcon=t})},t.prototype.onEnable=function(){n.ListContent.destroyAllChildren(),this.GetItem(),n.UserNums=0,n.UserNums_Label.getComponent(cc.Label).string="0"},t.prototype.GetItem=function(){this.PrizeNameLabel.getComponent(cc.Label).string=o.default._instance.LotteryItems[0].split("-")[0],this.PrizeNumLabel.getComponent(cc.Label).string=o.default._instance.LotteryItems[0].split("-")[1],a.default.get("/lottery/"+o.default._instance.LottertId+"/",this.GetLotteryName),a.default.get("/lottery/"+o.default._instance.LottertId+"/users/",this.GetUsers),this.schedule(function(){a.default.get("/lottery/"+o.default._instance.LottertId+"/users/",this.GetUsers)},5)},t.SetTexture=function(e,t,a){if(""!=e)cc.loader.load(e,function(i,s){return __awaiter(this,void 0,void 0,function(){var c,l,u;return __generator(this,function(d){return i?(console.log("\u56fe\u7247\u4e0b\u8f7d\u5931\u8d25",e,i),t.getComponent(cc.Sprite).spriteFrame=n.deafultIcon,(u=new r.default(a.name,n.deafultIcon,a.id)).userTex=n.deafultIcon.getTexture(),(c=new cc.Texture2D).initWithElement(n.deafultIcon.getTexture().getHtmlElementObj()),o.default.UserIconArray.push(c),o.default._instance.Users.push(u),[2]):(cc.log("\u4e0b\u8f7d\u56fe\u7247\u7eb9\u7406"+s),l=new cc.SpriteFrame(s),t.isValid&&(t.getComponent(cc.Sprite).spriteFrame=l,u=new r.default(a.name,l,a.id),o.default._instance.Users.push(new r.default(a.name,l,a.id)),o.default.UserIconArray.push(s),cc.log("Texture2D\u6570\u7ec4 "+o.default.UserIconArray)),[2])})})});else{t.getComponent(cc.Sprite).spriteFrame=n.deafultIcon,o.default._instance.Users.push(new r.default(a.name,n.deafultIcon,a.id)),new r.default(a.name,n.deafultIcon,a.id).userTex=n.deafultIcon.getTexture();var i=new cc.Texture2D;i.initWithElement(n.deafultIcon.getTexture().getHtmlElementObj()),o.default.UserIconArray.push(i)}},t.prototype.GetLotteryName=function(e,t){cc.log(t),n.LotteryName.getComponent(cc.Label).string=e?t.data.name:"\u83b7\u53d6\u62bd\u5956\u540d\u79f0\u5931\u8d25"},t.prototype.GetUsers=function(e,t){if(e&&t.data.list.length>n.UserNums){for(var o=n.UserNums;o<t.data.list.length;o++){var r=cc.instantiate(n.UserIcon);r.getChildByName("name").getComponent(cc.Label).string=t.data.list[o].name,cc.log("\u7528\u6237\u5934\u50cf\u7684\u94fe\u63a5\u662f:"+t.data.list[o].icon),"http://chuangyh.com:8000/uploaded/default_icon.jpg"==t.data.list[o].icon?n.SetTexture("http://static.chuangyh.com/uploaded/default_icon.jpg",r.getChildByName("iconMask").getChildByName("usericon"),t.data.list[o]):n.SetTexture("http://static.chuangyh.com/"+t.data.list[o].icon,r.getChildByName("iconMask").getChildByName("usericon"),t.data.list[o]),r.parent=n.ListContent}n.UserNums=t.data.list.length,n.UserNums_Label.getComponent(cc.Label).string=t.data.list.length.toString()}else cc.log("\u83b7\u53d6\u62bd\u5956\u7528\u6237\u5931\u8d25\u6216\u6ca1\u6709\u65b0\u589e\u7528\u6237")},t.LotteryName=null,t.UserNums=0,t.UserNums_Label=null,t.UserIcon=null,t.ListContent=null,t.deafultIcon=null,__decorate([c(cc.Node)],t.prototype,"PrizeNameLabel",void 0),__decorate([c(cc.Node)],t.prototype,"PrizeNumLabel",void 0),__decorate([c(cc.Node)],t.prototype,"QRCodePic",void 0),t=n=__decorate([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{"./GameManager":"GameManager","./User":"User","./WebRequest":"WebRequest"}],LotteryingPanel:[function(e,t,n){"use strict";cc._RF.push(t,"f351akwXXxBdr8fqcnkQUEI","LotteryingPanel"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./Actions"),r=e("./WebRequest"),a=e("./GameManager"),i=e("./Render"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.actions=null,t.earth=null,t.render=null,t}return __extends(t,e),t.prototype.start=function(){},t.prototype.onEnable=function(){this.render.active=!0,this.actions.getComponent(o.default).StartActions(),this.render.getChildByName("camera").getComponent(i.default).Earth.getComponent(cc.Animation).play("Rotation"),this.StartLotterying()},t.prototype.StartLotterying=function(){var e=a.default._instance.LotteryItems[0],t={info:e.split("-")[0],count:e.split("-")[1],is_new_round:a.default._instance.isFirstPrize,filter_same_user:!a.default._instance.isFiliterLotteryedUser};cc.log("\u6d4b\u8bd5\uff1a"+t),1==a.default._instance.isFirstPrize&&(a.default._instance.isFirstPrize=!1),r.default.post("/lottery/"+a.default._instance.LottertId+"/victory/",t,this.SaveRewardInform)},t.prototype.SaveRewardInform=function(e,t){cc.log(t),e?t.data.list.forEach(function(e){a.default._instance.RewardUsers.push(e.id)}):a.default._instance.SetWarningLabel("\u7f51\u7edc\u5f02\u5e38",2)},__decorate([l(cc.Node)],t.prototype,"actions",void 0),__decorate([l(cc.Node)],t.prototype,"earth",void 0),__decorate([l(cc.Node)],t.prototype,"render",void 0),t=__decorate([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"./Actions":"Actions","./GameManager":"GameManager","./Render":"Render","./WebRequest":"WebRequest"}],MusicPanel:[function(e,t,n){"use strict";cc._RF.push(t,"319fbpGK6hHu4IclxmxTBnD","MusicPanel"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./MusicPlayer"),r=cc._decorator,a=r.ccclass,i=r.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Lobby=null,t.Lottery=null,t.Result=null,t.musicItem=null,t}return __extends(t,e),t.prototype.start=function(){var e=o.default._musicPlayer.getSelectedMisic();this.Lobby.getChildByName("Name").getChildByName("Label").getComponent(cc.Label).string=e[0],this.Lottery.getChildByName("Name").getChildByName("Label").getComponent(cc.Label).string=e[1],this.Result.getChildByName("Name").getChildByName("Label").getComponent(cc.Label).string=e[2]},t.prototype.onEnable=function(){var e=this,t=o.default._musicPlayer.getSelectedMisic();this.Lobby.getChildByName("Name").getChildByName("Label").getComponent(cc.Label).string=t[0],this.Lottery.getChildByName("Name").getChildByName("Label").getComponent(cc.Label).string=t[1],this.Result.getChildByName("Name").getChildByName("Label").getComponent(cc.Label).string=t[2],this.Lobby.getChildByName("list").getChildByName("view").getChildByName("content").destroyAllChildren(),this.Lottery.getChildByName("list").getChildByName("view").getChildByName("content").destroyAllChildren(),this.Result.getChildByName("list").getChildByName("view").getChildByName("content").destroyAllChildren(),o.default._musicPlayer.getMusicList().forEach(function(t){var n=cc.instantiate(e.musicItem);n.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string=t,n.parent=e.Lobby.getChildByName("list").getChildByName("view").getChildByName("content");var o=cc.instantiate(e.musicItem);o.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string=t,o.parent=e.Lottery.getChildByName("list").getChildByName("view").getChildByName("content");var r=cc.instantiate(e.musicItem);r.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string=t,r.parent=e.Result.getChildByName("list").getChildByName("view").getChildByName("content")})},t.prototype.DownListEvent=function(e){0==e.target.parent.getChildByName("list").active?(this.Lobby.getChildByName("list").active=!1,this.Lottery.getChildByName("list").active=!1,this.Result.getChildByName("list").active=!1,e.target.parent.getChildByName("list").active=!0):e.target.parent.getChildByName("list").active=!1},t.prototype.TryMusicEvent=function(e){var t=e.target.parent;o.default._musicPlayer.PlayMusicByName(t.getChildByName("Name").getChildByName("Label").getComponent(cc.Label).string)},t.prototype.ChangeNameEvent=function(e){var t=e.target;t.parent.parent.parent.parent.getChildByName("Name").getChildByName("Label").getComponent(cc.Label).string=t.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string,t.parent.parent.parent.active=!1},t.prototype.SaveMusicItemsEvent=function(){o.default._musicPlayer.SetMusic(this.Lobby.getChildByName("Name").getChildByName("Label").getComponent(cc.Label).string,this.Lottery.getChildByName("Name").getChildByName("Label").getComponent(cc.Label).string,this.Result.getChildByName("Name").getChildByName("Label").getComponent(cc.Label).string),this.node.active=!1,o.default._musicPlayer.StopMusic(),o.default._musicPlayer.isSetMusic=!0},__decorate([i(cc.Node)],t.prototype,"Lobby",void 0),__decorate([i(cc.Node)],t.prototype,"Lottery",void 0),__decorate([i(cc.Node)],t.prototype,"Result",void 0),__decorate([i(cc.Prefab)],t.prototype,"musicItem",void 0),t=__decorate([a],t)}(cc.Component);n.default=s,cc._RF.pop()},{"./MusicPlayer":"MusicPlayer"}],MusicPlayer:[function(e,t,n){"use strict";cc._RF.push(t,"c82ceyim8pBVq8ST7bU76Re","MusicPlayer"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./WebRequest"),r=cc._decorator,a=r.ccclass,i=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.player=null,t.selectedMusics=[],t.isSetMusic=!1,t}var n;return __extends(t,e),n=t,t.prototype.onLoad=function(){n._musicPlayer=this.getComponent(n),this.player=this.getComponent(cc.AudioSource),this.player.loop=!0},t.prototype.start=function(){this.GetMusicUrl()},t.prototype.GetMusicUrl=function(){cc.log("\u8bf7\u6c42\u8fde\u63a5"),o.default.get("/lottery/music/list/",this.ParserUrlList)},t.prototype.ParserUrlList=function(e,t){e?(cc.log(t),t.data.list.forEach(function(e){n.DownLoadMusic(e)})):console.log("\u83b7\u53d6\u97f3\u4e50\u5217\u8868\u5931\u8d25")},t.DownLoadMusic=function(e){cc.loader.load({url:e,type:"mp3"},function(t,o){if(t)console.log("\u97f3\u4e50\u4e0b\u8f7d\u5931\u8d25",e,t);else{var r=e.split("/"),a=r[r.length-1].split(".")[0];n.map[a]=o,cc.log(o)}})},t.prototype.getMusicList=function(){var e=[];for(var t in n.map)e.push(t);return e},t.prototype.getSelectedMisic=function(){if(0==this.selectedMusics.length)for(var e in n.map)if(this.selectedMusics.push(e),this.selectedMusics.length>2)break;return this.selectedMusics},t.prototype.SetMusic=function(e,t,n){this.selectedMusics[0]=e,this.selectedMusics[1]=t,this.selectedMusics[2]=n},t.prototype.PlayMusicByName=function(e){this.player.stop(),this.player.clip=n.map[e],this.player.play()},t.prototype.PlayMusicByIndex=function(e){this.player.stop(),cc.log("\u8fd9\u6b21\u5f97\u97f3\u4e50\u662f\uff1a"+this.selectedMusics[e]),this.player.clip=n.map[this.selectedMusics[e]],this.player.play()},t.prototype.StopMusic=function(){this.player.stop()},t.prototype.InitMusicList=function(){0==this.isSetMusic&&this.getSelectedMisic()},t._musicPlayer=null,t.map={},t=n=__decorate([a],t)}(cc.Component));n.default=i,cc._RF.pop()},{"./WebRequest":"WebRequest"}],NodePool:[function(e,t,n){"use strict";cc._RF.push(t,"dfc8cxlCB1IU4GojEFlZADr","NodePool"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,r=o.ccclass,a=o.property,i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return __extends(t,e),t.prototype.start=function(){},__decorate([a(cc.Label)],t.prototype,"label",void 0),__decorate([a],t.prototype,"text",void 0),t=__decorate([r],t)}(cc.Component);n.default=i,cc._RF.pop()},{}],QRCodeComponent:[function(e,t,n){"use strict";cc._RF.push(t,"281fborOxVJKaHVU2uv4xjG","QRCodeComponent"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,r=o.ccclass,a=o.property,i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return __extends(t,e),t.prototype.start=function(){},__decorate([a(cc.Label)],t.prototype,"label",void 0),__decorate([a],t.prototype,"text",void 0),t=__decorate([r],t)}(cc.Component);n.default=i,cc._RF.pop()},{}],Render:[function(e,t,n){"use strict";cc._RF.push(t,"13e96QxGCRPy7d6VEPL9b3F","Render"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./Actions"),r=e("./GameManager"),a=e("./LobbyPanel"),i=cc._decorator,s=i.ccclass,c=i.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderMaterial=null,t.Earth=null,t.OutLine=null,t.actions=null,t.finshedSprite=null,t}return __extends(t,e),t.prototype.onEnable=function(){cc.log(this.Earth.scale),this.scheduleOnce(function(){this.actions.getComponent(o.default).unscheduleAllCallbacks()},7),this.scheduleOnce(function(){cc.log("\u542f\u52a8"),this.ChangeMat(),this.Earth.getComponent(cc.Animation).play("RotationAndCome"),this.OutLine.getComponent(cc.Animation).play("OutLine")},10)},t.prototype.MakeTexture=function(){var e=r.default.UserIconArray.length,t=100,n=(t=e<=25?100:e<=100?50:e<=400?25:12.5)/2,o=document.createElement("canvas");o.width=1e3,o.height=1e3;var i=o.getContext("2d");i.rect(0,0,o.width,o.height),i.fillStyle="rgba(255, 255, 255, 0)",i.fill();for(var s=0,c=0;c<1e3/t-1;c++)for(var l=c%2==0?0:t;l<1e3;){var u=new Image,d=r.default.UserIconArray[s];cc.log(r.default.UserIconArray),d.packable=!1,void 0==(u=d.getHtmlElementObj())?void 0==(u=a.default.deafultIcon.getTexture().getHtmlElementObj())&&cc.log("\u56fe\u50cf\u6709\u95ee\u9898"):(i.save(),i.beginPath(),i.arc(n+l,n+t*c+n,n,0,2*Math.PI,!1),i.closePath(),i.clip(),i.drawImage(u,l,t*c+n,t,t),i.restore()),s=(s+1)%r.default.UserIconArray.length,l+=2*t}var p=this.finshedSprite.getTexture();p.initWithElement(o),this.finshedSprite.setTexture(p),r.default._instance.FinsihedSprite=this.finshedSprite,r.default.UserIconArray=[]},t.prototype.ChangeMat=function(){var e=new cc.Texture2D;e=r.default._instance.FinsihedSprite.getTexture(),this.renderMaterial.setProperty("diffuseTexture",e,0),this.renderMaterial.setProperty("diffuseTexture",e,1)},__decorate([c(cc.Material)],t.prototype,"renderMaterial",void 0),__decorate([c(cc.Node)],t.prototype,"Earth",void 0),__decorate([c(cc.Node)],t.prototype,"OutLine",void 0),__decorate([c(cc.Node)],t.prototype,"actions",void 0),__decorate([c(cc.SpriteFrame)],t.prototype,"finshedSprite",void 0),t=__decorate([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{"./Actions":"Actions","./GameManager":"GameManager","./LobbyPanel":"LobbyPanel"}],Rotation:[function(e,t,n){"use strict";cc._RF.push(t,"518b4iKiy9F9JpeeKj2yYG+","Rotation"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./UiControl"),r=cc._decorator,a=r.ccclass,i=r.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uiControl=null,t}return __extends(t,e),t.prototype.FinishAnimation=function(){this.uiControl.getComponent(o.default).ToResultPanel()},__decorate([i(cc.Node)],t.prototype,"uiControl",void 0),t=__decorate([a],t)}(cc.Component);n.default=s,cc._RF.pop()},{"./UiControl":"UiControl"}],SetLotteryPanel:[function(e,t,n){"use strict";cc._RF.push(t,"2e0e9y9ModId408OAZ4ZGrx","SetLotteryPanel"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./WebRequest"),r=e("./GameManager"),a=cc._decorator,i=a.ccclass,s=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.content=null,t.createPart=null,t.AddAndDeletePart=null,t.item=null,t.musicPanel=null,t.toggle=null,t.newRoundBtn=null,t}return __extends(t,e),t.prototype.onEnable=function(){this.SyncLotteryItems()},t.prototype.start=function(){this.StartNewRound()},t.prototype.isNumber=function(e){var t=new RegExp("^[1-9]+[0-9]*]*$");return-1!=e.search(t)},t.prototype.WrieteItemEvent=function(){var e=this.createPart.getChildByName("Name").getChildByName("EditBox").getComponent(cc.EditBox).string,t=this.createPart.getChildByName("num").getChildByName("EditBox").getComponent(cc.EditBox).string;if(""!=e&&""!=t)if(this.isNumber(t))if(Number(t)>100)r.default._instance.SetWarningLabel("\u5956\u54c1\u6700\u5927\u6570\u91cf\u4e3a100",2);else{var n=cc.instantiate(this.item);n.getChildByName("name").getComponent(cc.Label).string=e,n.getChildByName("num").getComponent(cc.Label).string=t,n.parent=this.content,r.default._instance.LotteryItems.push(e+"-"+t)}else r.default._instance.SetWarningLabel("\u8bf7\u9009\u62e9\u5408\u9002\u7684\u6570\u91cf",2);else r.default._instance.SetWarningLabel("\u5956\u54c1\u540d\u6216\u6570\u91cf\u4e0d\u80fd\u4e3a\u7a7a",2)},t.prototype.SyncLotteryItems=function(){var e=this;null!=r.default._instance.LotteryItems&&(this.content.destroyAllChildren(),0!=r.default._instance.LotteryItems.length&&r.default._instance.LotteryItems.forEach(function(t){var n=cc.instantiate(e.item);n.getChildByName("name").getComponent(cc.Label).string=t.split("-")[0],n.getChildByName("num").getComponent(cc.Label).string=t.split("-")[1],n.parent=e.content}))},t.prototype.ClearItemEvent=function(){this.content.destroyAllChildren(),r.default._instance.LotteryItems=[],this.StartNewRound()},t.prototype.DeleteItemEvent=function(){this.content.childrenCount>0&&(this.content.children[this.content.childrenCount-1].destroy(),cc.log(r.default._instance.LotteryItems.pop()))},t.prototype.OpenMusicPanelEvent=function(){this.musicPanel.active=!0},t.prototype.GetToggleState=function(){return this.toggle.isChecked},t.prototype.SetToggleActive=function(e){this.toggle.interactable=e},t.prototype.StartNewRound=function(){r.default._instance.isFirstPrize=!0,r.default._instance.isNewRound=!0,o.default.post_NoParm("/lottery/"+r.default._instance.LottertId+"/update/round/",function(e,t){e?(cc.log(t),r.default._instance.isNewRound=!1):cc.log("\u66f4\u65b0\u65b0\u4e00\u8f6e\u4fe1\u606f\u5931\u8d25")}),this.SetToggleActive(!0),this.newRoundBtn.interactable=!1},__decorate([s(cc.Node)],t.prototype,"content",void 0),__decorate([s(cc.Node)],t.prototype,"createPart",void 0),__decorate([s(cc.Node)],t.prototype,"AddAndDeletePart",void 0),__decorate([s(cc.Prefab)],t.prototype,"item",void 0),__decorate([s(cc.Node)],t.prototype,"musicPanel",void 0),__decorate([s(cc.Toggle)],t.prototype,"toggle",void 0),__decorate([s(cc.Button)],t.prototype,"newRoundBtn",void 0),t=__decorate([i],t)}(cc.Component);n.default=c,cc._RF.pop()},{"./GameManager":"GameManager","./WebRequest":"WebRequest"}],TTQRcode:[function(e,t,n){"use strict";function o(e){this.mode=a.MODE_8BIT_BYTE,this.data=e}cc._RF.push(t,"789bfZTAkFEFpNVOq1rCAvZ","TTQRcode"),o.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}};var r=function(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=new Array};r.prototype={addData:function(e){var t=new o(e);this.dataList.push(t),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=N.getRSBlocks(e,this.errorCorrectLevel),n=new B,o=0,r=0;r<t.length;r++)o+=t[r].dataCount;for(var a=0;a<this.dataList.length;a++){var i=this.dataList[a];n.put(i.mode,4),n.put(i.getLength(),_.getLengthInBits(i.mode,e)),i.write(n)}if(n.getLengthInBits()<=8*o)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[n][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=r.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var o=-1;o<=7;o++)t+o<=-1||this.moduleCount<=t+o||(this.modules[e+n][t+o]=0<=n&&n<=6&&(0==o||6==o)||0<=o&&o<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=o&&o<=4)},getBestMaskPattern:function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var o=_.getLostPoint(this);(0==n||e>o)&&(e=o,t=n)}return t},createMovieClip:function(e,t,n){var o=e.createEmptyMovieClip(t,n);this.make();for(var r=0;r<this.modules.length;r++)for(var a=1*r,i=0;i<this.modules[r].length;i++){var s=1*i;this.modules[r][i]&&(o.beginFill(0,100),o.moveTo(s,a),o.lineTo(s+1,a),o.lineTo(s+1,a+1),o.lineTo(s,a+1),o.endFill())}return o},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=_.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var o=e[t],r=e[n];if(null==this.modules[o][r])for(var a=-2;a<=2;a++)for(var i=-2;i<=2;i++)this.modules[o+a][r+i]=-2==a||2==a||-2==i||2==i||0==a&&0==i}},setupTypeNumber:function(e){for(var t=_.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var o=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=o}for(var r=0;r<18;r++){var a=!e&&1==(t>>r&1);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=a}},setupTypeInfo:function(e,t){for(var n=this.errorCorrectLevel<<3|t,o=_.getBCHTypeInfo(n),r=0;r<15;r++){var a=!e&&1==(o>>r&1);r<6?this.modules[r][8]=a:r<8?this.modules[r+1][8]=a:this.modules[this.moduleCount-15+r][8]=a}for(var i=0;i<15;i++){var s=!e&&1==(o>>i&1);i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var n=-1,o=this.moduleCount-1,r=7,a=0,i=this.moduleCount-1;i>0;i-=2)for(6==i&&i--;;){for(var s=0;s<2;s++)if(null==this.modules[o][i-s]){var c=!1;a<e.length&&(c=1==(e[a]>>>r&1)),_.getMask(t,o,i-s)&&(c=!c),this.modules[o][i-s]=c,-1==--r&&(a++,r=7)}if((o+=n)<0||this.moduleCount<=o){o-=n,n=-n;break}}}},r.PAD0=236,r.PAD1=17,r.createData=function(e,t,n){for(var o=N.getRSBlocks(e,t),a=new B,i=0;i<n.length;i++){var s=n[i];a.put(s.mode,4),a.put(s.getLength(),_.getLengthInBits(s.mode,e)),s.write(a)}for(var c=0,l=0;l<o.length;l++)c+=o[l].dataCount;if(a.getLengthInBits()>8*c)throw new Error("code length overflow. ("+a.getLengthInBits()+">"+8*c+")");for(a.getLengthInBits()+4<=8*c&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(!1);for(;!(a.getLengthInBits()>=8*c||(a.put(r.PAD0,8),a.getLengthInBits()>=8*c));)a.put(r.PAD1,8);return r.createBytes(a,o)},r.createBytes=function(e,t){for(var n=0,o=0,r=0,a=new Array(t.length),i=new Array(t.length),s=0;s<t.length;s++){var c=t[s].dataCount,l=t[s].totalCount-c;o=Math.max(o,c),r=Math.max(r,l),a[s]=new Array(c);for(var u=0;u<a[s].length;u++)a[s][u]=255&e.buffer[u+n];n+=c;var d=_.getErrorCorrectPolynomial(l),p=new P(a[s],d.getLength()-1).mod(d);i[s]=new Array(d.getLength()-1);for(var h=0;h<i[s].length;h++){var g=h+p.getLength()-i[s].length;i[s][h]=g>=0?p.get(g):0}}for(var f=0,m=0;m<t.length;m++)f+=t[m].totalCount;for(var y=new Array(f),v=0,C=0;C<o;C++)for(var b=0;b<t.length;b++)C<a[b].length&&(y[v++]=a[b][C]);for(var L=0;L<r;L++)for(var N=0;N<t.length;N++)L<i[N].length&&(y[v++]=i[N][L]);return y};for(var a={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},i=1,s=0,c=3,l=2,u=0,d=1,p=2,h=3,g=4,f=5,m=6,y=7,_={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;_.getBCHDigit(t)-_.getBCHDigit(_.G15)>=0;)t^=_.G15<<_.getBCHDigit(t)-_.getBCHDigit(_.G15);return(e<<10|t)^_.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;_.getBCHDigit(t)-_.getBCHDigit(_.G18)>=0;)t^=_.G18<<_.getBCHDigit(t)-_.getBCHDigit(_.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return _.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case u:return(t+n)%2==0;case d:return t%2==0;case p:return n%3==0;case h:return(t+n)%3==0;case g:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case f:return t*n%2+t*n%3==0;case m:return(t*n%2+t*n%3)%2==0;case y:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new P([1],0),n=0;n<e;n++)t=t.multiply(new P([1,v.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case a.MODE_NUMBER:return 10;case a.MODE_ALPHA_NUM:return 9;case a.MODE_8BIT_BYTE:case a.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case a.MODE_NUMBER:return 12;case a.MODE_ALPHA_NUM:return 11;case a.MODE_8BIT_BYTE:return 16;case a.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case a.MODE_NUMBER:return 14;case a.MODE_ALPHA_NUM:return 13;case a.MODE_8BIT_BYTE:return 16;case a.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,o=0;o<t;o++)for(var r=0;r<t;r++){for(var a=0,i=e.isDark(o,r),s=-1;s<=1;s++)if(!(o+s<0||t<=o+s))for(var c=-1;c<=1;c++)r+c<0||t<=r+c||0==s&&0==c||i==e.isDark(o+s,r+c)&&a++;a>5&&(n+=3+a-5)}for(var l=0;l<t-1;l++)for(var u=0;u<t-1;u++){var d=0;e.isDark(l,u)&&d++,e.isDark(l+1,u)&&d++,e.isDark(l,u+1)&&d++,e.isDark(l+1,u+1)&&d++,0!=d&&4!=d||(n+=3)}for(var p=0;p<t;p++)for(var h=0;h<t-6;h++)e.isDark(p,h)&&!e.isDark(p,h+1)&&e.isDark(p,h+2)&&e.isDark(p,h+3)&&e.isDark(p,h+4)&&!e.isDark(p,h+5)&&e.isDark(p,h+6)&&(n+=40);for(var g=0;g<t;g++)for(var f=0;f<t-6;f++)e.isDark(f,g)&&!e.isDark(f+1,g)&&e.isDark(f+2,g)&&e.isDark(f+3,g)&&e.isDark(f+4,g)&&!e.isDark(f+5,g)&&e.isDark(f+6,g)&&(n+=40);for(var m=0,y=0;y<t;y++)for(var _=0;_<t;_++)e.isDark(_,y)&&m++;return n+=10*(Math.abs(100*m/t/t-50)/5)}},v={glog:function(e){if(e<1)throw new Error("glog("+e+")");return v.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return v.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},C=0;C<8;C++)v.EXP_TABLE[C]=1<<C;for(var b=8;b<256;b++)v.EXP_TABLE[b]=v.EXP_TABLE[b-4]^v.EXP_TABLE[b-5]^v.EXP_TABLE[b-6]^v.EXP_TABLE[b-8];for(var L=0;L<255;L++)v.LOG_TABLE[v.EXP_TABLE[L]]=L;function P(e,t){if(void 0==e.length)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var o=0;o<e.length-n;o++)this.num[o]=e[o+n]}function N(e,t){this.totalCount=e,this.dataCount=t}function B(){this.buffer=new Array,this.length=0}P.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var o=0;o<e.getLength();o++)t[n+o]^=v.gexp(v.glog(this.get(n))+v.glog(e.get(o)));return new P(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=v.glog(this.get(0))-v.glog(e.get(0)),n=new Array(this.getLength()),o=0;o<this.getLength();o++)n[o]=this.get(o);for(var r=0;r<e.getLength();r++)n[r]^=v.gexp(v.glog(e.get(r))+t);return new P(n,0).mod(e)}},N.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],N.getRSBlocks=function(e,t){var n=N.getRsBlockTable(e,t);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var o=n.length/3,r=new Array,a=0;a<o;a++)for(var i=n[3*a+0],s=n[3*a+1],c=n[3*a+2],l=0;l<i;l++)r.push(new N(s,c));return r},N.getRsBlockTable=function(e,t){switch(t){case i:return N.RS_BLOCK_TABLE[4*(e-1)+0];case s:return N.RS_BLOCK_TABLE[4*(e-1)+1];case c:return N.RS_BLOCK_TABLE[4*(e-1)+2];case l:return N.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},B.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},cc.Class({extends:cc.Component,editor:{requireComponent:cc.Graphics,executeInEditMode:!0},properties:{string:{default:"Hello World!",notify:function(e){this.string!==e&&this.setContent()}},backColor:{type:cc.Color,default:cc.Color.WHITE,notify:function(){this.setContent()}},foreColor:{type:cc.Color,default:cc.Color.BLACK,notify:function(e){this.node.color=this.graphics.fillColor,this.setContent()}},margin:{type:cc.Float,default:10,notify:function(e){e!==this.margin&&this.setContent()}},_size:200,size:{type:cc.Float,get:function(){return this._size},set:function(e){this._size!==e&&(this.node.setContentSize(e,e),this.setContent(),this._size=e)}}},onLoad:function(){this.graphics=this.node.getComponent(cc.Graphics);var e=window.location.href.split("?");if(void 0==e[1])console.log("\u6570\u636e\u83b7\u53d6\u5931\u8d25"),this.string="no content";else{var t='{"id":'+e[1].split("&")[0].split("=")[1]+',"type":"lottery_sign","url":"http://pre.web.chuangyh.com/sign.html"}';this.string=t}this.node.setContentSize(this.size,this.size),this.setContent()},SetString:function(e){this.string=e},setContent:function(){this.graphics.clear(),this.graphics.fillColor=this.backColor;var e=this.node.width;this.graphics.rect(0-.5*e,0-.5*e,e,e),this.graphics.fill(),this.graphics.close();var t=new r(-1,2);t.addData(this.string),t.make(),this.graphics.fillColor=this.foreColor;for(var n=e-2*this.margin,o=t.getModuleCount(),a=n/o,i=n/o,s=Math.ceil(a),c=Math.ceil(i),l=0;l<o;l++)for(var u=0;u<o;u++)t.isDark(l,u)&&(this.graphics.rect(this.margin+u*a-.5*e,n-i-Math.round(l*i)+this.margin-.5*e,s,c),this.graphics.fill())}}),cc._RF.pop()},{}],UiControl:[function(e,t,n){"use strict";cc._RF.push(t,"a0aebqkY4xPcoZC8R0RV15C","UiControl"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./GameManager"),r=e("./LobbyPanel"),a=e("./LotteryingPanel"),i=e("./MusicPlayer"),s=e("./Render"),c=e("./SetLotteryPanel"),l=cc._decorator,u=l.ccclass,d=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.DesignPanel=null,t.LobbyPanel=null,t.LotteringPanel=null,t.ResultPanel=null,t.StarDust=null,t.EndPanel=null,t.MakeSurePanel=null,t}return __extends(t,e),t.prototype.start=function(){},t.prototype.ToLobby=function(){o.default._instance.LotteryItems.length>0?(this.DesignPanel.getComponent(c.default).SetToggleActive(!1),o.default._instance.isFiliterLotteryedUser=this.DesignPanel.getComponent(c.default).GetToggleState(),0==i.default._musicPlayer.isSetMusic&&i.default._musicPlayer.InitMusicList(),i.default._musicPlayer.PlayMusicByIndex(0),this.DesignPanel.active=!1,this.LobbyPanel.active=!0,this.LobbyPanel.getComponent(r.default).GetItem()):(cc.log(o.default._instance.LotteryItems),o.default._instance.SetWarningLabel("\u8bf7\u8bbe\u7f6e\u5956\u9879",2))},t.prototype.LobbyBackToDesignPanel=function(){i.default._musicPlayer.StopMusic(),this.DesignPanel.active=!0,this.LobbyPanel.active=!1,this.LobbyPanel.getComponent(r.default).unscheduleAllCallbacks()},t.prototype.StartLottering=function(){r.default.UserNums>0?(this.DesignPanel.getComponent(c.default).newRoundBtn.interactable=!0,i.default._musicPlayer.PlayMusicByIndex(1),this.StarDust.active=!0,this.LotteringPanel.getComponent(a.default).render.getChildByName("camera").getComponent(s.default).MakeTexture(),this.LobbyPanel.active=!1,this.LotteringPanel.active=!0,this.LobbyPanel.getComponent(r.default).unscheduleAllCallbacks()):o.default._instance.SetWarningLabel("\u6682\u65e0\u7528\u6237\u53c2\u52a0",2)},t.prototype.ToResultPanel=function(){i.default._musicPlayer.PlayMusicByIndex(2),this.LotteringPanel.getComponent(a.default).render.active=!1,this.LotteringPanel.active=!1,this.ResultPanel.active=!0},t.prototype.ResultPanelToDesignPanel=function(){0==o.default._instance.LotteryItems.length&&this.DesignPanel.getComponent(c.default).StartNewRound(),i.default._musicPlayer.StopMusic(),this.StarDust.active=!1,this.DesignPanel.active=!0,this.ResultPanel.active=!1},t.prototype.ResultPanelToLobbyPanel=function(){o.default._instance.LotteryItems.length>0?(this.StarDust.active=!1,this.LobbyPanel.active=!0,this.ResultPanel.active=!1,i.default._musicPlayer.PlayMusicByIndex(0)):o.default._instance.SetWarningLabel("\u65e0\u5269\u4f59\u5956\u9879\uff0c\u8bf7\u91cd\u65b0\u8bbe\u7f6e\u5956\u9879",2)},t.prototype.CloseBtnEvent=function(){this.MakeSurePanel.active=!0},t.prototype.ToEndPanel=function(){this.StarDust.active=!1,this.EndPanel.active=!0,this.ResultPanel.active=!1},t.prototype.IsCloseLottery=function(e,t){"1"==t&&this.ToEndPanel(),this.MakeSurePanel.active=!1},__decorate([d(cc.Node)],t.prototype,"DesignPanel",void 0),__decorate([d(cc.Node)],t.prototype,"LobbyPanel",void 0),__decorate([d(cc.Node)],t.prototype,"LotteringPanel",void 0),__decorate([d(cc.Node)],t.prototype,"ResultPanel",void 0),__decorate([d(cc.Node)],t.prototype,"StarDust",void 0),__decorate([d(cc.Node)],t.prototype,"EndPanel",void 0),__decorate([d(cc.Node)],t.prototype,"MakeSurePanel",void 0),t=__decorate([u],t)}(cc.Component);n.default=p,cc._RF.pop()},{"./GameManager":"GameManager","./LobbyPanel":"LobbyPanel","./LotteryingPanel":"LotteryingPanel","./MusicPlayer":"MusicPlayer","./Render":"Render","./SetLotteryPanel":"SetLotteryPanel"}],User:[function(e,t,n){"use strict";cc._RF.push(t,"bc447WTRCFINp4MM4eACFgM","User"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){return function(e,t,n){this.userName="",this.userIcon=null,this.userId=-1,this.userTex=new cc.Texture2D,this.userName=e,this.userIcon=t,this.userId=n}}();n.default=o,cc._RF.pop()},{}],WebRequest:[function(e,t,n){"use strict";cc._RF.push(t,"1e806ycZNNDBaq0iPVtcWF+","WebRequest"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.get=function(t,n){t=e.baseUrl+t,cc.log(t);var o=cc.loader.getXMLHttpRequest();o.open("GET",t,!0),o.setRequestHeader("X-User-Token",this.userToken),o.onreadystatechange=function(){if(4===o.readyState){var e=o.responseText;if(o.status>=200&&o.status<300){o.statusText;n(!0,JSON.parse(e))}else n(!1,e)}},o.send()},e.post=function(t,n,o){void 0===n&&(n={}),t=e.baseUrl+t;var r=cc.loader.getXMLHttpRequest(),a="";Object.keys(n).forEach(function(e){a+=e+"="+encodeURIComponent(n[e])+"&"}),""!==a&&(a=a.substr(0,a.lastIndexOf("&"))),cc.log(a),r.open("POST",t,!0),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.setRequestHeader("X-User-Token",this.userToken),r.onreadystatechange=function(){if(4===r.readyState){var e=r.responseText;if(r.status>=200&&r.status<300){r.statusText;o(!0,JSON.parse(e))}else o(!1,e)}},r.send(a)},e.post_NoParm=function(t,n){t=e.baseUrl+t,cc.log(t);var o=cc.loader.getXMLHttpRequest();o.open("POST",t,!0),o.setRequestHeader("X-User-Token",this.userToken),o.onreadystatechange=function(){if(4===o.readyState){var e=o.responseText;if(o.status>=200&&o.status<300){o.statusText;n(!0,e)}else n(!1,e)}},o.send()},e.DeleteDemand=function(t,n){t=e.baseUrl+t,cc.log(t);var o=cc.loader.getXMLHttpRequest();o.open("DELETE",t,!0),o.setRequestHeader("X-User-Token",this.userToken),o.onreadystatechange=function(){if(4===o.readyState){var e=o.responseText;if(o.status>=200&&o.status<300){o.statusText;n(!0,e)}else n(!1,e)}},o.send()},e.baseUrl="http://pre.api.web.chuangyh.com",e.userToken="",e}();n.default=o,cc._RF.pop()},{}]},{},["Actions","ButtonOnload","CombinePics","EndPanel","GameManager","IconAnim","LobbyPanel","LotteryingPanel","MusicPanel","MusicPlayer","NodePool","QRCodeComponent","Render","Rotation","SetLotteryPanel","TTQRcode","UiControl","User","WebRequest"]);